<!DOCTYPE html>
<html>
<head>
  <title>Image Upload Form</title>
  <style>
    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .form-group {
      margin-bottom: 10px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    .form-group input[type="file"] {
      display: block;
    }
    .form-group button {
      padding: 8px 12px;
      background-color: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Image Upload Form</h2>
    <form id="imageForm">
      <div class="form-group">
        <label for="imageInput">Select an image:</label>
        <input type="file" id="imageInput" name="image" accept="image/*">
      </div>
      <button type="submit">Upload</button>
    </form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const imageForm = document.getElementById('imageForm');
      const imageInput = document.getElementById('imageInput');

      imageForm.addEventListener('submit', (event) => {
        event.preventDefault();

        const file = imageInput.files[0];

        if (file) {
          const formData = new FormData();
          formData.append('image', file);

          fetch('{{ url_for('upload') }}', {
            method: 'POST',
            body: formData
          })
          .then(response => response.json())
          .then(data => {
            console.log('Image uploaded:', data);
            // Handle the response from the backend, e.g., display uploaded image or show success message
          })
          .catch(error => {
            console.error('Error uploading image:', error);
            // Handle any errors, e.g., display error message to the user
          });
        }
      });
    });
  </script>
</body>
</html>
