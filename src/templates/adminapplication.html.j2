{% extends "parent.html.j2" %}

{% block head %}


{% endblock %}

{% block style %}

<style>
    .rounded-rectangle {
        border-radius: 15px;
        background-color: #D9D9D9;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        padding: 1%;
        margin-bottom: 30px;
    }

    .btn {
        border-radius: 15px;
    }
    
    .small{
        font-size: 13px
    }

</style>

{% endblock %}

{% block content %}
<div style="margin-top: 3%;">
    <p style="text-align: center; margin: 30px auto;">HOUSING APPLICATIONS</p>
    <div class="row">
        {% for paymentid, payment in payments.items() %}
        <div class="col-sm-2"></div>
        <div class="col-sm-8 rounded-rectangle">
            <div class="row">
                <div class="col-md-3">
                    <p style='font-weight: bold'>Student</p>
                    <p class='small'>{{ payment['application']['studentname'] }}</p>
                    <p class='small'>Contact: {{ payment['application']['studentcontact'] }}</p>
                    <p class='small'>Email: {{ payment['application']['applicant_email'] }}</p>
                </div>
                <div class="col-md-2">
                    <p style='font-weight: bold'>Home</p>
                    <p class='small'>{{ payment['application']['homename'] }}</p>
                    <!--<p class='small'>Airport, Valley</p>-->
                    <p class='small'>Amount: {{ payment['application']['roomprice'] }}</p>
                </div>
                <div class="col-md-3">
                    <p style='font-weight: bold'>Details</p>
                    <p class='small'>Date: {{payment['date']}}</p>
                    <p class='small'>Amount: {{payment['amount']}}</p>
                    <p class='small'>Mode: {{payment['mode']}}</p>
                    <p class='small'>Mode: {{payment['transaction']}}</p>
                    {% if payment['application']['status'] == 'Ready to go' %}
                        <p class='small'>Status: CONFIRMED</p>
                    {% endif %}
                </div>
                <div class="col-md-3">
                    <div style="text-align:center">
                        <img src="{{payment['paymentimg']}}" class="" style="width: 100%; height: 100%;" alt="Avatar"/>
                    </div>
                </div>
            </div>

            {% if payment['application']['status'] != 'Ready to go' %}
                                <div class="row" style='text-align: center;'>
                <p class='small' style='margin-top: 10px'> * contact student if amount is not upto {{payment['application']['roomprice'] }} </p>
                <div class="">
                    <a href="/cancel_payment/{{payment['application']['appId']}}/{{paymentid}}" class="btn btn-danger" style="margin-right: 10%">cancel</a>
                    <a href="/confirm_payment/{{payment['application']['appId']}}/{{paymentid}}" class="btn btn-success">confirm</a>
                </div>
            </div>
            {% endif %}

        </div>
        <div class="col-sm-1"></div>

        {% endfor %}

        
        
        
    </div>
</div>   
{% endblock %}
