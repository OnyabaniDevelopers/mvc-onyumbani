{% extends "parent.html.j2" %}
{% block head %}
    <title>View Home</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Onyumbani - Reserve</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reserve.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <link rel="stylesheet" type="text/css" href=""{{ url_for('static', filename='css/smart.default.css') }}"/>
{% endblock %}


{% block content %} 

  <div class="contain">

    <!--- Title ------>
    <div class="house-title d-flex align-items-center justify-content-center">
        <h4><span>{{ home_data['homename'] }}</span>- <span>{{ home_data['roomprice'] }} /month/room</span></h4>
    </div>

    <!--- Scrollable Images --->
    <div class="wrapper d-flex align-items-center justify-content-center">
        <div class="card-group card-group-scroll">

        {% for img in home_data['homeimgs'] %}
            <div class="card">
                <img src="{{ img }}" class="card-img-top" alt="{{ home_data['homename'] }}" />     
            </div>
        {% endfor %}
        </div>
    </div>

    <!-- house information -->

    <div id='subbody' class="container">
        <div class="col-lg-7 col-md-12">
          <ul class="nav nav-pills mb-3 nav-fill" id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-desc" type="button" role="tab" aria-controls="pills-desc" aria-selected="true">Description</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-amenities" type="button" role="tab" aria-controls="pills-amenities" aria-selected="false">Amenities</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-host" type="button" role="tab" aria-controls="pills-host" aria-selected="false">Host</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-availability" type="button" role="tab" aria-controls="pills-availability" aria-selected="false">Availability</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-rooms" type="button" role="tab" aria-controls="pills-rooms" aria-selected="false">Rooms</button>
            </li>
          </ul>
          
          <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-desc" role="tabpanel" aria-labelledby="pills-desc-tab">
              {{ home_data['homedescription']}} 
            </div>
            <div class="tab-pane fade" id="pills-amenities" role="tabpanel" aria-labelledby="pills-amenities-tab">
              <div class="row">

              {% for amenity in home_data['amenities'] %}
                <div class="col-sm-3">
                  <div class="row">
                    <div class="col-sm-3"><i class="fa-regular fa-circle fa-lg" style="color: rgb(15, 207, 15);"></i></div>
                    <div class="col-sm-9"><p>{{ home_data['amenities'][amenity] }}</p></div>              
                  </div>
                </div>
              {% endfor %}
                
              </div>
            </div>
            <div class="tab-pane fade" id="pills-host" role="tabpanel" aria-labelledby="pills-host-tab">
                <div class="row">
                  <div class="col-md-4" id="divImageMediaPreview">
                      <img src="{{ host_data['profileimageurl'] }}" class="rounded-circle" style="width: 100%; height: 100%;" alt="Avatar" />
                  </div>
                  <div class="col-md-4 col-sm-12">
                    <p>Name: {{ host_data['firstname'] }} {{ host_data['lastname'] }}</p>
                    <p>Contact: {{ host_data['phonenumber'] }}</p>
                    <p>Email: {{ host_data['email'] }}</p>
                  </div>
                  <div class="col-md-4 col-sm-12">
                    <a href="/view_profile/owner/{{ host_data['nationalId'] }}">show more</a>
                  </div>   
                </div>
            </div>
            <div class="tab-pane fade" id="pills-availability" role="tabpanel" aria-labelledby="pills-availability-tab">
                <smart-calendar id="calendar" important-dates='["2023-05-27", "2023-05-28", "2023-05-29", "2023-05-30", "2023-05-31"]'>
                
                </smart-calendar>
            </div>
            <div class="tab-pane fade" id="pills-rooms" role="tabpanel" aria-labelledby="pills-rooms-tab">
              
                <p>Number of rooms: {{ home_data['numrooms'] }} </p>
                <p>Number of people: {{ home_data['numpeople'] }}</p>
                <p><b>Room Description</b> <br> {{ home_data['roomdescription'] }}</p>
              
            </div>
          </div>
        </div>
        
        <!-- Reserve Form and the house information -->
        
        <div class="col-md-1">
        </div>
        
        <div id="reservation" class="col-lg-4 col-md-12">
          <form class="w-full max-w-lg" action="{{ url_for('reserve_room')}}">
              <div class="row">
                <div class="col-6">
                    <div class="form-group">
                        <label for="checkin">Check-In</label>
                        <div class="input-group">
                          <input type="date" class="form-control" id="password">
                        </div>
                    </div>
                </div>
                <div class="col-6">
                  <div class="form-group">
                      <label for="checkout">Check-Out</label>
                      <div class="input-group">
                        <input type="date" class="form-control" id="password"">
                      </div>
                  </div>
              </div>    
            </div>
            <div class="row">
              <div class="col-12">
                  <div class="form-group">
                      <label for="roomnumber">Room Number</label>
                      <div class="input-group">
                        <select class="form-control" id="grid-state">
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                        </select>
                        <div class="input-group-append">
                          <span class="input-group-text">
                            <i class="fa fa-chevron-down"></i>
                          </span>
                        </div>
                      </div>
                  </div>
              </div>
          </div> 
          <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label for="firstname">Number of Guests</label>
                    <div class="input-group">
                    <input type="email" class="form-control" id="guests" placeholder="Enter number of guests">
                    </div>
                </div>
            </div>
          </div> 
          <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <div class="form-group">
                    <div class="input-group">
                    <input type="submit" class="form-control" id="submit">
                    </div>
                </div>
            </div>
            <div class="col-2"></div>
          </div> 
          </form>
        </div>
      </div>
      <div class="footer">
        <p>Â© Copyright Nyumbani 2022</p>
      </div>
      </div>
    
{% endblock %}

{% block script %}
    <script type="module" src="{{ url_for('static', filename='js/smart.calendar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/reserve.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
{% endblock %} 
